"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_form_app=("undefined"!=typeof self?self:this).webpackJsonp__wix_form_app||[]).push([[416],{96564:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Le});var r=n(20011),a=n(27762),l=n.n(a),o=n(42301),s=n(95685),c=n.n(s),u=n(81281),i=n(8333),d=n(19148),m=n(3285),p=n(51646),C=n(5468),y=n(48385),f=n(98125),h=n(15906),b=n.n(h),v=n(77118);function g(e){const t=e?(0,p.S)(e):void 0,n=null==t?void 0:t.country;if(n)return n;const r=new C.R;e&&r.input(e);return r.getCountry()}function E(e){return function(e){var t,n,r,a;if(!(e=e.trim()).startsWith("+"))return;const l=e.replace(/^\+/,""),o=l.substring(0,1),s=l.substring(0,2),c=l.substring(0,3),u=l.substring(0,4);return(null==(t=f.Z.country_calling_codes[u])?void 0:t[0])||(null==(n=f.Z.country_calling_codes[c])?void 0:n[0])||(null==(r=f.Z.country_calling_codes[s])?void 0:r[0])||(null==(a=f.Z.country_calling_codes[o])?void 0:a[0])}(e)}function w(e){return e?v.L[e]:void 0}function N(e){var t;return e&&(null==(t=b().getCountryByKey(e))?void 0:t.dialCode)}var x=n(96080),k=n(31616);function _(e,t){return e.filter(e=>function(e,t){const{countryName:n,callingCode:r,shortCountryCode:a}=e;if(D(n,t))return!0;if(D(r,t))return!0;if(D(a,t))return!0;return!1}(e,t))}function D(e,t){return e.toLowerCase().includes(t.toLowerCase())}var O=n(43566),S=n(31688),I=n(4447),L=n(80528),M=n(79630),Z=n(65741);const B="apfS60",F=e=>{let{longCountryCode:t}=e;const n=R(t,"1x"),r=R(t,"2x");return l().createElement("img",{src:n,srcSet:`${n} 1x, ${r} 2x`,alt:"","aria-hidden":"true",loading:"lazy",className:B})};function R(e,t){return`https://static.parastorage.com/services/linguist-flags/1.961.0/assets/flags/square/${`${e}${"2x"===t?"_2x":""}.png`}`}var P="oUDpvwp",T="sWV17_q",$="s__3xDnod",q="s__0p27oq",A=n.sts.bind(null,P);function K(e){let{callingCode:t,countryName:n,longCountryCode:r,clip:a=!0}=e;return a?l().createElement("div",{className:A(T,{nowrap:a})},l().createElement("div",{className:$},l().createElement(F,{longCountryCode:r})),l().createElement(M.x,{className:q,"aria-label":n},n.length>25?l().createElement(Z.u,{appendTo:"window",showDelay:300,content:n},`${n.substring(0,25)}...`):n),l().createElement(M.x,{className:q,"aria-hidden":"true"},"\xa0"),l().createElement(M.x,{className:q},l().createElement("span",{dir:"ltr",lang:"en"},t))):l().createElement("div",{className:T},l().createElement("div",{className:$},l().createElement(F,{longCountryCode:r})),l().createElement(M.x,{className:q},n,l().createElement("span",{"aria-hidden":"true"},"\xa0"),l().createElement("span",{dir:"ltr",lang:"en"},t)))}var U="s__1i7EKU",V="s__17bdPZ",G="syaA_J_";var H=n(51336),J=n(23833),W=n(24205),j=n(71836),Y="sEP5wyL",z="sNA6Tp0",Q="s_BVJMF",X="skGp13x",ee="svqg2c5",te="ssM0YgU";const ne=(0,a.forwardRef)((e,t)=>{let{arrowDirection:n,longCountryCode:r,onClick:a,readOnly:o,ariaLabel:s}=e;const{t:u}=(0,x.$G)();return l().createElement(j.h,{className:Y,"data-hook":"country-selector-trigger","aria-label":`${s}. ${u("field.phone.country-selector-button.aria-label")}`,innerRef:t,onClick:a,icon:l().createElement("div",{className:z},r?l().createElement("div",{className:Q},l().createElement(F,{longCountryCode:r})):l().createElement("div",{className:c()(X,{[te]:o})},l().createElement(H.Z,null)),l().createElement("div",{className:c()(ee,{[te]:o})},"up"===n?l().createElement(J.Z,null):l().createElement(W.Z,null)))})});var re=n(22745),ae="ofpsldL",le="sigMcDV",oe=n.sts.bind(null,ae);const se=e=>{let{className:t,...n}=e;const{t:a}=(0,x.$G)(),{isRTL:o}=(0,i.Z)();return l().createElement(u.n,(0,r.Z)({},n,{"data-hook":"country-search",className:oe(le,{rtl:o},t),prefix:l().createElement(re.Z,null),placeholder:a("field.phone.country-search-input.placeholder"),"aria-label":a("field.phone.country-search-input.aria-label"),autoComplete:"off"}))},ce=e=>{var t;let{className:n,theme:o,countryCode:s,countries:c,onSelect:u,searchPhrase:i,onSearch:d,onKeyDown:m,readOnly:p,ariaLabel:C}=e;const y=(0,a.useRef)(null),f=(0,a.useRef)(null),h=(0,a.useMemo)(()=>w(s),[s]),[b,v]=(0,a.useState)(!1),{comboboxProps:g,listboxProps:E,setActiveDescendant:N}=function(){const e=(0,S.M)(),[t,n]=(0,a.useState)(),r={role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":!0,"aria-owns":e,"aria-activedescendant":t},l={role:"listbox",id:e};return{comboboxProps:r,listboxProps:l,setActiveDescendant:n}}(),x=(0,a.useMemo)(()=>c.map(ue),[c]),k=(0,a.useMemo)(()=>s?[s]:[],[s]),_=null==(t=c[0])?void 0:t.shortCountryCode,D=i?_:s??_,L=(0,a.useCallback)(e=>{v(!p&&e),d("")},[d,p]),M=(0,a.useCallback)(e=>{var t,n,r;switch(e.key){case"Tab":e.preventDefault(),L(!1);break;case"Escape":e.preventDefault(),L(!1),null==(t=y.current)||t.focus();break;case"Enter":e.preventDefault(),L(!1);const a=null==(n=f.current)||null==(n=n.getSelectedOption())?void 0:n.id;a&&u(a);break;case"ArrowUp":case"ArrowDown":null==(r=f.current)||r.onKeyDown(e.key,e)}m(e)},[m,L,u]),Z=(0,a.useCallback)(e=>{const t=null==e?void 0:e.id;L(!1),t&&u(t)},[u,L]),B=(0,a.useCallback)(e=>d(e.target.value),[d]),F=(0,a.useCallback)(e=>{e&&N(e._DOMid)},[N]);return l().createElement(l().Fragment,null,l().createElement(ne,{readOnly:p,arrowDirection:b?"up":"down",longCountryCode:h,onClick:()=>L(!0),ariaLabel:C}),l().createElement(O.A,{isOpen:b,onRequestClose:()=>L(!1),className:U},l().createElement(I.W,{"data-hook":"dropdown-content",optionsContainerId:E.id,role:E.role,className:V,ref:f,selectedIds:k,options:x,onOptionClick:Z,onOptionHover:F,focusOnOption:D,fixedHeader:l().createElement("div",{className:G},l().createElement(se,(0,r.Z)({},g,{className:n,tabIndex:b?-1:0,theme:o,value:i,onChange:B,onKeyDown:M})))})))};function ue(e){let{longCountryCode:t,shortCountryCode:n,callingCode:r,countryName:a}=e;return L.B.create({id:n,render:()=>l().createElement(K,{callingCode:r,longCountryCode:t,countryName:a,clip:!1})})}var ie=n(43790),de="oBxBJc5",me="saVZtCV",pe="sp79gUV",Ce="so_s4xp",ye=n.sts.bind(null,de);const fe=e=>{var t;let{className:n,theme:o,countryCode:s,countries:c,onSelect:u,searchPhrase:d,onSearch:m,onKeyDown:p,readOnly:C,disabled:y,ariaLabel:f}=e;const{isRTL:h}=(0,i.Z)(),b=w(s),v=(0,a.useRef)(null),g=(0,a.useRef)(null),{t:E}=(0,x.$G)(),[N,k]=(0,a.useState)(!1),[_,D]=(0,a.useState)({}),{comboboxProps:O,listboxProps:I,setActiveDescendant:L}=function(){const e=(0,S.M)(),[t,n]=(0,a.useState)(),r={role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":!0,"aria-owns":e,"aria-activedescendant":t},l={role:"listbox",id:e};return{comboboxProps:r,listboxProps:l,setActiveDescendant:n}}(),M=(0,a.useMemo)(()=>c.map(he),[c]),Z=s?[s]:[],B=null==(t=c[0])?void 0:t.shortCountryCode,F=d?B:s??B,R=(0,a.useCallback)(e=>{var t,n,r;switch(e.key){case"Escape":e.preventDefault(),null==(t=g.current)||t.close(),null==(n=v.current)||n.focus();break;case"ArrowUp":case"ArrowDown":case"Enter":case"Tab":null==(r=g.current)||r.onKeyDown(e)}p(e)},[p]),P=(0,a.useCallback)(e=>{const t=null==e?void 0:e.id;u(t),k(!1)},[u]),T=(0,a.useCallback)(e=>m(e.target.value),[m]),$=(0,a.useCallback)(e=>{k(e),m("")},[m]),q=(0,a.useCallback)(e=>{var t;const n=null==e||null==(t=e.getBoundingClientRect())?void 0:t.width;n&&D({minWidth:n})},[]),A=(0,a.useCallback)(e=>{e&&L(e._DOMid)},[L]);return l().createElement(ie.J,{readOnly:C,disabled:y,contentId:I.id,contentRole:I.role,className:ye(me,{rtl:h}),contentClassName:ye(pe,{rtl:h,theme:o}),ref:g,initialSelectedIds:Z,options:M,placement:"bottom-start",openTrigger:"click",onSelect:P,onExpandedChange:$,onOptionHover:A,focusOnOption:F,eventsEnabled:!1,noResultsText:E("field.phone.country-selector-dropdown.no-result"),fixedHeader:l().createElement("div",{style:_,ref:q,className:Ce},l().createElement(se,(0,r.Z)({},O,{className:n,theme:o,autoFocus:!0,value:d,onChange:T,onKeyDown:R})))},l().createElement(ne,{readOnly:C,ref:v,arrowDirection:N?"up":"down",longCountryCode:b,ariaLabel:f}))};function he(e){let{longCountryCode:t,shortCountryCode:n,callingCode:r,countryName:a}=e;return L.B.create({id:n,render:()=>l().createElement(K,{callingCode:r,longCountryCode:t,countryName:a})})}var be="oAfceIM",ve="sSZhtd6",ge=n.sts.bind(null,be);const Ee=e=>{let{fieldId:t,inputId:n,value:r,allowedCountryCodes:o,defaultCountry:s,showFlag:c,placeholder:p,disabled:C,required:y,hasError:f,ariaDescribedBy:h,ariaInvalid:b,className:E,theme:w,readOnly:D,onChange:O,onFocus:S,onBlur:I,ariaLabel:L}=e;const{isMobile:M,isRTL:Z}=(0,i.Z)(),B=(0,a.useRef)(null),[R,P]=(0,a.useState)(""),T=(0,a.useMemo)(()=>g(r),[r]),[q,A]=(0,a.useState)(s??T),K=function(){const{t:e}=(0,x.$G)(),{locale:t}=(0,i.Z)();return(0,a.useMemo)(()=>Object.keys(v.L).reduce((t,n)=>{const r=v.L[n],a=N(r),l=e(`locale-dataset.countries.${r.toUpperCase()}`);return a&&(0,k.a)(n)&&t.push({countryName:l,longCountryCode:r,shortCountryCode:n,callingCode:a}),t},[]).sort((e,n)=>e.countryName.localeCompare(n.countryName,t)),[e,t])}(),U=(0,a.useMemo)(()=>function(e,t){return e.filter(e=>!(t&&t.length>0)||t.includes(e.shortCountryCode))}(K,o),[K,o]),V=(0,a.useMemo)(()=>_(U,R),[U,R]),G=(0,a.useMemo)(()=>U.find(e=>e.shortCountryCode===q),[U,q])?q:void 0;(0,d.ij)(()=>{A(s)}),(0,a.useEffect)(()=>{A(s??T)},[T,s]);const H=(0,a.useCallback)(e=>{var t;if("Tab"===e.key)null==(t=B.current)||t.focus()},[]),J=(0,a.useCallback)(e=>{var t;A(e),O(r,e),null==(t=B.current)||t.focus()},[r,O]),W=(0,a.useCallback)(e=>{const t=g(e.target.value);if(t)return A(t),void O(e.target.value,t);O(e.target.value,q)},[O,q]),{containerRef:j,handleBlur:Y,handleFocus:z}=(0,m.K)({onBlur:I,onFocus:S});(0,d.q3)(()=>{var e;null==(e=B.current)||e.focus({preventScroll:!0})},t);return l().createElement("div",{ref:j,onBlur:Y,onFocus:z},l().createElement(u.n,{ref:B,id:n,type:"phone",inputMode:"tel",error:f,newErrorMessage:!0,value:"string"==typeof r?r:"",className:ge(ve,{rtl:Z},E),required:y,disabled:C,placeholder:p,theme:w,"aria-describedby":h,"aria-invalid":b,"aria-label":L,onChange:W,prefix:1===U.length?c?l().createElement("div",{className:$},l().createElement(F,{longCountryCode:V[0].longCountryCode})):null:M?l().createElement(ce,{readOnly:D,className:E,theme:w,countries:V,countryCode:G,onSelect:J,searchPhrase:R,onSearch:P,onKeyDown:H,ariaLabel:L}):l().createElement(fe,{readOnly:D,disabled:C,className:E,theme:w,countries:V,countryCode:G,onSelect:J,searchPhrase:R,onSearch:P,onKeyDown:H,ariaLabel:L}),readOnlyCustom:D}))};var we=n(18800),Ne=n(39076),xe=n(63960),ke=n(97074),_e=n(63e3),De=(n(95191),{root:"spmBtCx sf_Wygh",textField:"sf_Wygh",noBorder:"sRMolsD",hover:"sv1lDQh",theme:"sUR1c6o"});var Oe=n(89269),Se=n(8076);const Ie=e=>{var t;let{id:n,target:r,label:o,hideLabel:s=!1,placeholder:u,required:i=!1,description:m,value:C="",defaultCountry:f,showFlag:h,validation:b,onChange:v,onBlur:g,onFocus:w,error:N,disabled:k=!1,hasError:_=!1,errorMessage:D,FieldLayout:O,requiredIndicatorType:S,requiredIndicatorPlacement:I,readOnly:L,defaultValue:M}=e;const{t:Z}=(0,x.$G)(),{labelId:B,inputId:F,errorId:R,descriptionId:P,ariaDescribedBy:T}=(0,Ne.rm)(n,N,m),$=null==b||null==(t=b.string)||null==(t=t.phoneOptions)?void 0:t.allowedCountryCodes,[q,A]=(0,a.useState)(()=>M===C&&M.length<=4&&E(M)?"":C),K=(0,we.F0)().includes(we.dA.INPUT_FIELDS_HOVER);(0,a.useEffect)(()=>{q!==C&&v(q)},[]),(0,a.useEffect)(()=>{C&&!q&&A(C)},[C,q]);const U=(0,a.useCallback)((e,t)=>{const n=1===(null==$?void 0:$.length)?$[0]:void 0,r=function(e,t){if(e&&t)try{const n=(0,p.S)(e,t),r=null==n?void 0:n.formatInternational();if(r&&(0,y.y)(r))return r.replace(/\s+/g,"")}catch(e){}return e}(e,t||n);A(e),v(r)},[v,$]),V=(0,Oe.Y)(g),G=(0,a.useCallback)(()=>{V()},[V]),H=(0,a.useCallback)(()=>{A(""),v("")},[v]);return(0,d.ij)(H),l().createElement(O,{fieldId:n,renderLabel:()=>l().createElement(ke.a,{labelId:B,htmlFor:F,required:i,label:o,hideLabel:s,requiredIndicatorType:S,requiredIndicatorPlacement:I}),renderInput:()=>l().createElement(Ee,{fieldId:n,inputId:F,hasError:_,value:q||"",className:c()(De.textField,De.theme,{[De.error]:_,[De.hover]:K}),onChange:U,required:i,disabled:k,placeholder:u,onBlur:G,onFocus:w,theme:Se.u.Box,ariaDescribedBy:T,ariaInvalid:_,showFlag:h,defaultCountry:f,allowedCountryCodes:$,readOnly:L,ariaLabel:`${o}. ${Z("field.phone.aria-label")}`}),renderDescription:()=>l().createElement(l().Fragment,null,l().createElement(_e.n,{target:r,hasError:_,errorMessage:D,id:R}),l().createElement(xe.a,{description:m,id:P}))})},Le=e=>{const t=o.Z9.CONTACTS_PHONE;return l().createElement(Ie,(0,r.Z)({},e,{fieldType:t}))}}}]);
//# sourceMappingURL=form-app-contacts-phone.chunk.min.js.map